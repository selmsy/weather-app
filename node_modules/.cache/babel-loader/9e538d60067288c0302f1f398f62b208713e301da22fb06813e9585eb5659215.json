{"ast":null,"code":"import _slicedToArray from\"/Users/selma/Documents/Projects/w-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),city=_useState6[0],setCity=_useState6[1];var getSearchOptions=function getSearchOptions(value){fetch(\"https://api.openweathermap.org/geo/1.0/direct?q=\".concat(value.trim(),\"&limit=5&appid=\").concat(process.env.REACT_APP_API_KEY)).then(function(res){return res.json();}).then(function(data){return setOptions(data);});};var onInputChange=function onInputChange(ev){var value=ev.target.value.trim();setTerm(value);if(value==='')return;getSearchOptions(value);};var getForecast=function getForecast(city){fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city.lat,\"&lon=\").concat(city.lon,\"&units=metric&appid=\").concat(process.env.REACT_APP_API_KEY)).then(function(res){return res.json();}).then(function(data){return console.log({data:data});});};var onSubmit=function onSubmit(){if(!city)return;getForecast(city);};var onOptionSelect=function onOptionSelect(option){setCity(option);fetch(\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(option.lat,\"&lon=\").concat(option.lon,\"&units=metric&appid=\").concat(process.env.REACT_APP_API_KEY)).then(function(res){return res.json();}).then(function(data){return console.log({data:data});});};return/*#__PURE__*/_jsx(\"main\",{className:\"flex  justify-center  items-center  bg-gradient-to-br  from-sky-400  via-rose-400  to-lime-400  h-[100vh]  w-full\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"w-full md:max-w-[500px] p-4 flex flex-col text-center items-center\\njustify-center md:px-10 lg:p-24 h-full lg:h-[500px] \\nbg-white bg-opacity-20 backdrop-blur-ls drop-shadow=lg rounded text-zinc-700\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4x1 font-thin\",children:[\"Weather\",/*#__PURE__*/_jsx(\"span\",{className:\"font-black\",children:\"Forecast\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Enter below a place you want to know the weather of and select the option from the dropdown:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mt-10 md:mt-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:term,className:\"px-2 py-1 rounded-1-md border-2 border-white\",onChange:onInputChange}),/*#__PURE__*/_jsx(\"ul\",{className:\"absolute top-9 bg-white ml-1 rounded-b-md\",children:options.map(function(option,index){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"text-left text-sm w-full hover:bg-zinc-700  hover:text-white px-2 py-1 cursor-pointer\",onClick:function onClick(){return onOptionSelect(option);},children:option.name})},option.name+'-'+index);})}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded-r-md border-2 border-zinc-100  hover:border-zinc-500  hover:text-zinc-500  text-zinc-100 px-2 py-1 cursor-pointer\",onClick:onSubmit,children:\"search\"})]})]})});};export default App;","map":{"version":3,"names":["useState","App","term","setTerm","options","setOptions","city","setCity","getSearchOptions","value","fetch","trim","process","env","REACT_APP_API_KEY","then","res","json","data","onInputChange","ev","target","getForecast","lat","lon","console","log","onSubmit","onOptionSelect","option","map","index","name"],"sources":["/Users/selma/Documents/Projects/w-app/src/App.tsx"],"sourcesContent":["import { ChangeEvent, useState } from \"react\"\nimport { optionType } from \"../types\"\nconst App = (): JSX.Element => {\n \n \n const [term, setTerm] = useState<string>('')\n const [options, setOptions] = useState<[]>([])\nconst [city, setCity] = useState<optionType | null >(null)\n\n const getSearchOptions = (value: string) => {\n  fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${value.trim()}&limit=5&appid=${process.env.REACT_APP_API_KEY}`)\n .then((res)=>res.json())\n .then((data) => setOptions(data))\n}\n \nconst onInputChange = (ev: ChangeEvent<HTMLInputElement>) => {\n  const value = ev.target.value.trim();\n  setTerm(value);\n\n  if(value === '') return \n  \n  getSearchOptions(value)\n }\n\n const getForecast = (city: optionType) => {\nfetch(`https://api.openweathermap.org/data/2.5/weather?q=${city.lat}&lon=${city.lon}&units=metric&appid=${process.env.REACT_APP_API_KEY}`)\n.then((res)=>res.json())\n.then((data) => console.log({data}))\n\n }\n\n const onSubmit = () => {\nif(!city)  return\ngetForecast(city)\n\n\n }\n\n const onOptionSelect = (option: optionType) => {\n  setCity(option);\n\n\nfetch(`https://api.openweathermap.org/data/2.5/weather?lat=${option.lat}&lon=${option.lon}&units=metric&appid=${process.env.REACT_APP_API_KEY}`)\n.then((res)=>res.json())\n.then((data) => console.log({data}))\n }\n  return (\n    <main className=\"flex \n    justify-center \n    items-center \n    bg-gradient-to-br \n    from-sky-400 \n    via-rose-400 \n    to-lime-400 \n    h-[100vh] \n    w-full\">\n\n<section className=\"w-full md:max-w-[500px] p-4 flex flex-col text-center items-center\njustify-center md:px-10 lg:p-24 h-full lg:h-[500px] \nbg-white bg-opacity-20 backdrop-blur-ls drop-shadow=lg rounded text-zinc-700\">\n\n<h1 className=\"text-4x1 font-thin\">Weather<span className=\"font-black\">Forecast</span></h1>\n\n<p className=\"text-sm mt-2\">\nEnter below a place you want to know the weather of and select the option from the dropdown:</p>\n\n<div className=\"flex mt-10 md:mt-4\">\n<input type=\"text\" value={term}\n className=\"px-2 py-1 rounded-1-md border-2 border-white\" onChange={onInputChange}/>\n\n<ul className=\"absolute top-9 bg-white ml-1 rounded-b-md\">\n{options.map((option: optionType, index: number) => (\n  <li key = {option.name + '-' + index}>\n    <button className=\"text-left text-sm w-full hover:bg-zinc-700 \n    hover:text-white px-2 py-1 cursor-pointer\" onClick={() => onOptionSelect(option)}>\n      {option.name}\n    </button>\n  </li>\n ))}\n</ul>\n <button className=\"rounded-r-md border-2 border-zinc-100 \n hover:border-zinc-500 \n hover:text-zinc-500 \n text-zinc-100 px-2\n py-1 cursor-pointer\" onClick={onSubmit}>\n  search\n </button>\n </div>\n</section>\n     \n    </main>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}